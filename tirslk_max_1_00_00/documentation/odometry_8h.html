<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tirslk_max_1_00_00: RSLK_1_1/inc/odometry.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="RSLKsmaller.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tirslk_max_1_00_00
   </div>
   <div id="projectbrief">Texas Instruments Robot Systems Learning Kit MAX, Jonathan Valvano</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('odometry_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">odometry.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Count wheel rotations and maintain robot position and angle.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="odometry_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0240ac851181b84ac374872dc5434ee4"><td class="memItemLeft" align="right" valign="top"><a id="a0240ac851181b84ac374872dc5434ee4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a0240ac851181b84ac374872dc5434ee4">N</a>&#160;&#160;&#160;360</td></tr>
<tr class="memdesc:a0240ac851181b84ac374872dc5434ee4"><td class="mdescLeft">&#160;</td><td class="mdescRight">counts/rotation, just one edge of one tach <br /></td></tr>
<tr class="separator:a0240ac851181b84ac374872dc5434ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af316c33cc298530f245e8b55330e86b5"><td class="memItemLeft" align="right" valign="top"><a id="af316c33cc298530f245e8b55330e86b5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#af316c33cc298530f245e8b55330e86b5">D</a>&#160;&#160;&#160;70000</td></tr>
<tr class="memdesc:af316c33cc298530f245e8b55330e86b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">wheel diameter 0.0001cm <br /></td></tr>
<tr class="separator:af316c33cc298530f245e8b55330e86b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a649b8f01fd6c0f47ff3cbddaeba63bfb"><td class="memItemLeft" align="right" valign="top"><a id="a649b8f01fd6c0f47ff3cbddaeba63bfb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a649b8f01fd6c0f47ff3cbddaeba63bfb">W</a>&#160;&#160;&#160;140000</td></tr>
<tr class="memdesc:a649b8f01fd6c0f47ff3cbddaeba63bfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">wheel base 0.0001 cm <br /></td></tr>
<tr class="separator:a649b8f01fd6c0f47ff3cbddaeba63bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4cf4b2ab929bd23951a8676eeac086b"><td class="memItemLeft" align="right" valign="top"><a id="ac4cf4b2ab929bd23951a8676eeac086b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>&#160;&#160;&#160;219910</td></tr>
<tr class="memdesc:ac4cf4b2ab929bd23951a8676eeac086b"><td class="mdescLeft">&#160;</td><td class="mdescRight">wheel circumference 0.0001cm <br /></td></tr>
<tr class="separator:ac4cf4b2ab929bd23951a8676eeac086b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a598a3330b3c21701223ee0ca14316eca"><td class="memItemLeft" align="right" valign="top"><a id="a598a3330b3c21701223ee0ca14316eca"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a598a3330b3c21701223ee0ca14316eca">PI</a>&#160;&#160;&#160;8192</td></tr>
<tr class="memdesc:a598a3330b3c21701223ee0ca14316eca"><td class="mdescLeft">&#160;</td><td class="mdescRight">representation of pi radians <br /></td></tr>
<tr class="separator:a598a3330b3c21701223ee0ca14316eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4912c64aec0c943b7985db6cb61ff83a"><td class="memItemLeft" align="right" valign="top"><a id="a4912c64aec0c943b7985db6cb61ff83a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a4912c64aec0c943b7985db6cb61ff83a">TWOPI</a>&#160;&#160;&#160;(2*<a class="el" href="odometry_8h.html#a598a3330b3c21701223ee0ca14316eca">PI</a>)</td></tr>
<tr class="memdesc:a4912c64aec0c943b7985db6cb61ff83a"><td class="mdescLeft">&#160;</td><td class="mdescRight">6.28... <br /></td></tr>
<tr class="separator:a4912c64aec0c943b7985db6cb61ff83a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1711232abf72723b5216c206e6bbb175"><td class="memItemLeft" align="right" valign="top"><a id="a1711232abf72723b5216c206e6bbb175"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a1711232abf72723b5216c206e6bbb175">NORTH</a>&#160;&#160;&#160;4096</td></tr>
<tr class="memdesc:a1711232abf72723b5216c206e6bbb175"><td class="mdescLeft">&#160;</td><td class="mdescRight">direction that is north <br /></td></tr>
<tr class="separator:a1711232abf72723b5216c206e6bbb175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a072a1ef1143314441742097b799be322"><td class="memItemLeft" align="right" valign="top"><a id="a072a1ef1143314441742097b799be322"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a072a1ef1143314441742097b799be322">EAST</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a072a1ef1143314441742097b799be322"><td class="mdescLeft">&#160;</td><td class="mdescRight">direction that is east <br /></td></tr>
<tr class="separator:a072a1ef1143314441742097b799be322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3830320fe6287f717dca9669f417950"><td class="memItemLeft" align="right" valign="top"><a id="af3830320fe6287f717dca9669f417950"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#af3830320fe6287f717dca9669f417950">SOUTH</a>&#160;&#160;&#160;-4096</td></tr>
<tr class="memdesc:af3830320fe6287f717dca9669f417950"><td class="mdescLeft">&#160;</td><td class="mdescRight">direction that is south <br /></td></tr>
<tr class="separator:af3830320fe6287f717dca9669f417950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a755da365a2f771fdb9e15af22fee7d74"><td class="memItemLeft" align="right" valign="top"><a id="a755da365a2f771fdb9e15af22fee7d74"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a755da365a2f771fdb9e15af22fee7d74">WEST</a>&#160;&#160;&#160;-8192</td></tr>
<tr class="memdesc:a755da365a2f771fdb9e15af22fee7d74"><td class="mdescLeft">&#160;</td><td class="mdescRight">direction that is west <br /></td></tr>
<tr class="separator:a755da365a2f771fdb9e15af22fee7d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a366f8ce059270987f00bcb23c257fb7d"><td class="memItemLeft" align="right" valign="top"><a id="a366f8ce059270987f00bcb23c257fb7d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a366f8ce059270987f00bcb23c257fb7d">XYTOLERANCE</a>&#160;&#160;&#160;10000</td></tr>
<tr class="memdesc:a366f8ce059270987f00bcb23c257fb7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">tolerance in x,y goal seeking, 1 cm <br /></td></tr>
<tr class="separator:a366f8ce059270987f00bcb23c257fb7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16237058dff97699eb4b43ac7b0bd747"><td class="memItemLeft" align="right" valign="top"><a id="a16237058dff97699eb4b43ac7b0bd747"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a16237058dff97699eb4b43ac7b0bd747">THETATOLERANCE</a>&#160;&#160;&#160;(4096/90)</td></tr>
<tr class="memdesc:a16237058dff97699eb4b43ac7b0bd747"><td class="mdescLeft">&#160;</td><td class="mdescRight">tolerance in angle goal seeking, 1 deg <br /></td></tr>
<tr class="separator:a16237058dff97699eb4b43ac7b0bd747"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a8a4285c43463011b934d1dc0a3859496"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a8a4285c43463011b934d1dc0a3859496">RobotState</a> { <br />
&#160;&#160;<a class="el" href="odometry_8h.html#a8a4285c43463011b934d1dc0a3859496ace07053ab96611cd775428c007e656d5">ISSTOPPED</a>, 
<a class="el" href="odometry_8h.html#a8a4285c43463011b934d1dc0a3859496ad6fe78e0386eac3ae353deeea8cc594d">GOFORWARD</a>, 
<a class="el" href="odometry_8h.html#a8a4285c43463011b934d1dc0a3859496a6d29aaa5d43a8a093bab2eb5cb507024">HARDRIGHT</a>, 
<a class="el" href="odometry_8h.html#a8a4285c43463011b934d1dc0a3859496a197222c68aa4452dbfdff4f9dceb6319">HARDLEFT</a>, 
<br />
&#160;&#160;<a class="el" href="odometry_8h.html#a8a4285c43463011b934d1dc0a3859496a3dbc276b101f7ed5681985d862403b5f">SOFTRIGHT</a>, 
<a class="el" href="odometry_8h.html#a8a4285c43463011b934d1dc0a3859496a089e76cbc1d5480e2dbaeb6478948b1f">SOFTLEFT</a>
<br />
 }<tr class="memdesc:a8a4285c43463011b934d1dc0a3859496"><td class="mdescLeft">&#160;</td><td class="mdescRight">robot state  <a href="odometry_8h.html#a8a4285c43463011b934d1dc0a3859496">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a8a4285c43463011b934d1dc0a3859496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc2094ed70be2908e2a418d23359cdb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#aacc2094ed70be2908e2a418d23359cdb">OdometryCommand</a> { <br />
&#160;&#160;<a class="el" href="odometry_8h.html#aacc2094ed70be2908e2a418d23359cdba679ee5320d66c8322e310daeb2ee99b8">STOP</a>, 
<a class="el" href="odometry_8h.html#aacc2094ed70be2908e2a418d23359cdbabfd8096bb487bcc6e415690aa471e07c">FORWARDTOX</a>, 
<a class="el" href="odometry_8h.html#aacc2094ed70be2908e2a418d23359cdbaac75e57abf4c81fe1d59596950c77a51">FORWARDTOY</a>, 
<a class="el" href="odometry_8h.html#aacc2094ed70be2908e2a418d23359cdbae205a455dad48f89553db33164a364cf">LEFTTOTH</a>, 
<br />
&#160;&#160;<a class="el" href="odometry_8h.html#aacc2094ed70be2908e2a418d23359cdba891f6209cf73e4ed66044e2781328993">RIGHTTOTH</a>
<br />
 }<tr class="memdesc:aacc2094ed70be2908e2a418d23359cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Odometry Commands.  <a href="odometry_8h.html#aacc2094ed70be2908e2a418d23359cdb">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:aacc2094ed70be2908e2a418d23359cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a02038c8bfaf26fb3cf26f87c700ace21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a02038c8bfaf26fb3cf26f87c700ace21">Odometry_Init</a> (int32_t initx, int32_t inity, int32_t initTheta)</td></tr>
<tr class="memdesc:a02038c8bfaf26fb3cf26f87c700ace21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize odometry module.  <a href="#a02038c8bfaf26fb3cf26f87c700ace21">More...</a><br /></td></tr>
<tr class="separator:a02038c8bfaf26fb3cf26f87c700ace21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57e039201476eac111718cd0389008e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a57e039201476eac111718cd0389008e2">Odometry_Update</a> (int32_t LCount, int32_t RCount)</td></tr>
<tr class="memdesc:a57e039201476eac111718cd0389008e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute new position/angle of the robot.  <a href="#a57e039201476eac111718cd0389008e2">More...</a><br /></td></tr>
<tr class="separator:a57e039201476eac111718cd0389008e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bc6118c80d609922568caef39d5534"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a65bc6118c80d609922568caef39d5534">Odometry_SetPower</a> (uint32_t fast, uint32_t slow)</td></tr>
<tr class="memdesc:a65bc6118c80d609922568caef39d5534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set power levels.  <a href="#a65bc6118c80d609922568caef39d5534">More...</a><br /></td></tr>
<tr class="separator:a65bc6118c80d609922568caef39d5534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a445ed3ce2b8e40f5f1b289c5f2e10877"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a445ed3ce2b8e40f5f1b289c5f2e10877">Odometry_GetX</a> (void)</td></tr>
<tr class="memdesc:a445ed3ce2b8e40f5f1b289c5f2e10877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get X position.  <a href="#a445ed3ce2b8e40f5f1b289c5f2e10877">More...</a><br /></td></tr>
<tr class="separator:a445ed3ce2b8e40f5f1b289c5f2e10877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada122c001d23df57126239baedd3dd41"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#ada122c001d23df57126239baedd3dd41">Odometry_GetY</a> (void)</td></tr>
<tr class="memdesc:ada122c001d23df57126239baedd3dd41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get y position.  <a href="#ada122c001d23df57126239baedd3dd41">More...</a><br /></td></tr>
<tr class="separator:ada122c001d23df57126239baedd3dd41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a010212b0f335a235e37853f1566eb789"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a010212b0f335a235e37853f1566eb789">Odometry_GetAngle</a> (void)</td></tr>
<tr class="memdesc:a010212b0f335a235e37853f1566eb789"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get theta angle.  <a href="#a010212b0f335a235e37853f1566eb789">More...</a><br /></td></tr>
<tr class="separator:a010212b0f335a235e37853f1566eb789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef75bf637013d317fd67af7d24d9487"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a1ef75bf637013d317fd67af7d24d9487">Odometry_Get</a> (int32_t *x, int32_t *y, int32_t *theta)</td></tr>
<tr class="memdesc:a1ef75bf637013d317fd67af7d24d9487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current robot position.  <a href="#a1ef75bf637013d317fd67af7d24d9487">More...</a><br /></td></tr>
<tr class="separator:a1ef75bf637013d317fd67af7d24d9487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca159286d03bad83e4e2fc74a6e3700a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#aca159286d03bad83e4e2fc74a6e3700a">UpdatePosition</a> (void)</td></tr>
<tr class="memdesc:aca159286d03bad83e4e2fc74a6e3700a"><td class="mdescLeft">&#160;</td><td class="mdescRight">update position  <a href="#aca159286d03bad83e4e2fc74a6e3700a">More...</a><br /></td></tr>
<tr class="separator:aca159286d03bad83e4e2fc74a6e3700a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fdb7496922bfb0c2ae56d7104c04701"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a9fdb7496922bfb0c2ae56d7104c04701">Display</a> (void)</td></tr>
<tr class="memdesc:a9fdb7496922bfb0c2ae56d7104c04701"><td class="mdescLeft">&#160;</td><td class="mdescRight">OLED output.  <a href="#a9fdb7496922bfb0c2ae56d7104c04701">More...</a><br /></td></tr>
<tr class="separator:a9fdb7496922bfb0c2ae56d7104c04701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ad9dab3cc94b0686b23feab2651be89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a6ad9dab3cc94b0686b23feab2651be89">WaitUntilBumperTouched</a> (void)</td></tr>
<tr class="memdesc:a6ad9dab3cc94b0686b23feab2651be89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until bumper touched.  <a href="#a6ad9dab3cc94b0686b23feab2651be89">More...</a><br /></td></tr>
<tr class="separator:a6ad9dab3cc94b0686b23feab2651be89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26dd48a17bfa7e00662f4243b373903c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a26dd48a17bfa7e00662f4243b373903c">StopUntilBumperTouched</a> (void)</td></tr>
<tr class="memdesc:a26dd48a17bfa7e00662f4243b373903c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop and wait until bumper touched.  <a href="#a26dd48a17bfa7e00662f4243b373903c">More...</a><br /></td></tr>
<tr class="separator:a26dd48a17bfa7e00662f4243b373903c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0321334343b11ceb82d4c0b3928a3568"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a0321334343b11ceb82d4c0b3928a3568">ForwardUntilCrash</a> (void)</td></tr>
<tr class="memdesc:a0321334343b11ceb82d4c0b3928a3568"><td class="mdescLeft">&#160;</td><td class="mdescRight">Go until bumper touched.  <a href="#a0321334343b11ceb82d4c0b3928a3568">More...</a><br /></td></tr>
<tr class="separator:a0321334343b11ceb82d4c0b3928a3568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a229d2f3384b996c6934c7c8285487297"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a229d2f3384b996c6934c7c8285487297">ForwardUntilX</a> (int32_t desiredX)</td></tr>
<tr class="memdesc:a229d2f3384b996c6934c7c8285487297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward Until X goal.  <a href="#a229d2f3384b996c6934c7c8285487297">More...</a><br /></td></tr>
<tr class="separator:a229d2f3384b996c6934c7c8285487297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b083e4a98e3da0f1e24567106672570"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a2b083e4a98e3da0f1e24567106672570">ForwardUntilY</a> (int32_t desiredY)</td></tr>
<tr class="memdesc:a2b083e4a98e3da0f1e24567106672570"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward Until Y goal.  <a href="#a2b083e4a98e3da0f1e24567106672570">More...</a><br /></td></tr>
<tr class="separator:a2b083e4a98e3da0f1e24567106672570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47488781167f4a2b93cd7fdc2f862c59"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a47488781167f4a2b93cd7fdc2f862c59">SoftLeftUntilTh</a> (int32_t desiredTh)</td></tr>
<tr class="memdesc:a47488781167f4a2b93cd7fdc2f862c59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Soft Left Until Theta.  <a href="#a47488781167f4a2b93cd7fdc2f862c59">More...</a><br /></td></tr>
<tr class="separator:a47488781167f4a2b93cd7fdc2f862c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb6e48d29c4e844c7fe377dfb96ac01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a1cb6e48d29c4e844c7fe377dfb96ac01">ForwardUntilXStart</a> (int32_t thedesiredX)</td></tr>
<tr class="memdesc:a1cb6e48d29c4e844c7fe377dfb96ac01"><td class="mdescLeft">&#160;</td><td class="mdescRight">start going Forward Until X  <a href="#a1cb6e48d29c4e844c7fe377dfb96ac01">More...</a><br /></td></tr>
<tr class="separator:a1cb6e48d29c4e844c7fe377dfb96ac01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e3cf20ecb159bdbf93ba0f48d3d6d1"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#ad1e3cf20ecb159bdbf93ba0f48d3d6d1">ForwardUntilXStatus</a> (void)</td></tr>
<tr class="memdesc:ad1e3cf20ecb159bdbf93ba0f48d3d6d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">check status of Forward Until X command  <a href="#ad1e3cf20ecb159bdbf93ba0f48d3d6d1">More...</a><br /></td></tr>
<tr class="separator:ad1e3cf20ecb159bdbf93ba0f48d3d6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a85769742970a3c73e420a95995b610"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a9a85769742970a3c73e420a95995b610">ForwardUntilYStart</a> (int32_t thedesiredY)</td></tr>
<tr class="memdesc:a9a85769742970a3c73e420a95995b610"><td class="mdescLeft">&#160;</td><td class="mdescRight">start going Forward Until Y  <a href="#a9a85769742970a3c73e420a95995b610">More...</a><br /></td></tr>
<tr class="separator:a9a85769742970a3c73e420a95995b610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a959131ec407a757e0b5d52a9025c4a87"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a959131ec407a757e0b5d52a9025c4a87">ForwardUntilYStatus</a> (void)</td></tr>
<tr class="memdesc:a959131ec407a757e0b5d52a9025c4a87"><td class="mdescLeft">&#160;</td><td class="mdescRight">check status of Forward Until Y command  <a href="#a959131ec407a757e0b5d52a9025c4a87">More...</a><br /></td></tr>
<tr class="separator:a959131ec407a757e0b5d52a9025c4a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c5406d6e8a5d440d0a293cc331abd09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#a1c5406d6e8a5d440d0a293cc331abd09">SoftLeftUntilThStart</a> (int32_t thedesiredTh)</td></tr>
<tr class="memdesc:a1c5406d6e8a5d440d0a293cc331abd09"><td class="mdescLeft">&#160;</td><td class="mdescRight">start going Forward Until Y  <a href="#a1c5406d6e8a5d440d0a293cc331abd09">More...</a><br /></td></tr>
<tr class="separator:a1c5406d6e8a5d440d0a293cc331abd09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7799ed6f9df6cf864de783d8c20651"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#afc7799ed6f9df6cf864de783d8c20651">ForwardUntilThStatus</a> (void)</td></tr>
<tr class="memdesc:afc7799ed6f9df6cf864de783d8c20651"><td class="mdescLeft">&#160;</td><td class="mdescRight">check status of soft left until theta command  <a href="#afc7799ed6f9df6cf864de783d8c20651">More...</a><br /></td></tr>
<tr class="separator:afc7799ed6f9df6cf864de783d8c20651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c3f2212f4dd0a6a17dca002ed7478d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="odometry_8h.html#ab7c3f2212f4dd0a6a17dca002ed7478d">CheckGoal</a> (void)</td></tr>
<tr class="memdesc:ab7c3f2212f4dd0a6a17dca002ed7478d"><td class="mdescLeft">&#160;</td><td class="mdescRight">check status of odometry command  <a href="#ab7c3f2212f4dd0a6a17dca002ed7478d">More...</a><br /></td></tr>
<tr class="separator:ab7c3f2212f4dd0a6a17dca002ed7478d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Count wheel rotations and maintain robot position and angle. </p>
<p>Inputs to the system are left and right tachometer counts. System is called periodically, e.g., every 20 to 40 ms. Private global variables from the system are position (x,y) and orientation theta. </p><dl class="section version"><dt>Version</dt><dd>TI-RSLK MAX v1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Daniel Valvano and Jonathan Valvano </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2019 by Jonathan W. Valvano, <a href="#" onclick="location.href='mai'+'lto:'+'val'+'va'+'no@'+'ma'+'il.'+'ut'+'exa'+'s.'+'edu'; return false;">valva<span style="display: none;">.nosp@m.</span>no@m<span style="display: none;">.nosp@m.</span>ail.u<span style="display: none;">.nosp@m.</span>texa<span style="display: none;">.nosp@m.</span>s.edu</a>, </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>AS-IS </dd></dl>
<dl class="section note"><dt>Note</dt><dd>For more information see <a href="http://users.ece.utexas.edu/~valvano/">http://users.ece.utexas.edu/~valvano/</a> </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This system will need calibration to your particular robot, adjust N D W C for your robot </dd></dl>
<dl class="section date"><dt>Date</dt><dd>July 31, 2019</dd></dl>
<p>Although tested with the Pololu #3542 Romi Encoder connected to Pololu RSLK 1.1 interface board, the module should operate with any 2 wheel differential drive robot. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aacc2094ed70be2908e2a418d23359cdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacc2094ed70be2908e2a418d23359cdb">&#9670;&nbsp;</a></span>OdometryCommand</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="odometry_8h.html#aacc2094ed70be2908e2a418d23359cdb">OdometryCommand</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Odometry Commands. </p>
<p>These are possible odometry commands </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aacc2094ed70be2908e2a418d23359cdba679ee5320d66c8322e310daeb2ee99b8"></a>STOP&#160;</td><td class="fielddoc"><p>stop robot </p>
</td></tr>
<tr><td class="fieldname"><a id="aacc2094ed70be2908e2a418d23359cdbabfd8096bb487bcc6e415690aa471e07c"></a>FORWARDTOX&#160;</td><td class="fielddoc"><p>move forward straight until X is matched within tolerance XYTOLERANCE </p>
</td></tr>
<tr><td class="fieldname"><a id="aacc2094ed70be2908e2a418d23359cdbaac75e57abf4c81fe1d59596950c77a51"></a>FORWARDTOY&#160;</td><td class="fielddoc"><p>move forward straight until Y is matched within tolerance XYTOLERANCE </p>
</td></tr>
<tr><td class="fieldname"><a id="aacc2094ed70be2908e2a418d23359cdbae205a455dad48f89553db33164a364cf"></a>LEFTTOTH&#160;</td><td class="fielddoc"><p>turn left until theta is matched within tolerance THETATOLERANCE </p>
</td></tr>
<tr><td class="fieldname"><a id="aacc2094ed70be2908e2a418d23359cdba891f6209cf73e4ed66044e2781328993"></a>RIGHTTOTH&#160;</td><td class="fielddoc"><p>turn right until theta is matched within tolerance THETATOLERANCE </p>
</td></tr>
</table>

</div>
</div>
<a id="a8a4285c43463011b934d1dc0a3859496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4285c43463011b934d1dc0a3859496">&#9670;&nbsp;</a></span>RobotState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="odometry_8h.html#a8a4285c43463011b934d1dc0a3859496">RobotState</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>robot state </p>
<p>These are possible robot motions for odometry system </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8a4285c43463011b934d1dc0a3859496ace07053ab96611cd775428c007e656d5"></a>ISSTOPPED&#160;</td><td class="fielddoc"><p>stopped </p>
</td></tr>
<tr><td class="fieldname"><a id="a8a4285c43463011b934d1dc0a3859496ad6fe78e0386eac3ae353deeea8cc594d"></a>GOFORWARD&#160;</td><td class="fielddoc"><p>going forward </p>
</td></tr>
<tr><td class="fieldname"><a id="a8a4285c43463011b934d1dc0a3859496a6d29aaa5d43a8a093bab2eb5cb507024"></a>HARDRIGHT&#160;</td><td class="fielddoc"><p>turning hard right </p>
</td></tr>
<tr><td class="fieldname"><a id="a8a4285c43463011b934d1dc0a3859496a197222c68aa4452dbfdff4f9dceb6319"></a>HARDLEFT&#160;</td><td class="fielddoc"><p>turning hard left </p>
</td></tr>
<tr><td class="fieldname"><a id="a8a4285c43463011b934d1dc0a3859496a3dbc276b101f7ed5681985d862403b5f"></a>SOFTRIGHT&#160;</td><td class="fielddoc"><p>turning soft right </p>
</td></tr>
<tr><td class="fieldname"><a id="a8a4285c43463011b934d1dc0a3859496a089e76cbc1d5480e2dbaeb6478948b1f"></a>SOFTLEFT&#160;</td><td class="fielddoc"><p>turning soft left </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab7c3f2212f4dd0a6a17dca002ed7478d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7c3f2212f4dd0a6a17dca002ed7478d">&#9670;&nbsp;</a></span>CheckGoal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CheckGoal </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check status of odometry command </p>
<p>Odometry command to check status of any odometry command. Assumes ForwardUntilXStart ForwardUntilYStart or SoftLeftUntilThStart has been issued </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if done or error, false if still running ok </dd></dl>

</div>
</div>
<a id="a9fdb7496922bfb0c2ae56d7104c04701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fdb7496922bfb0c2ae56d7104c04701">&#9670;&nbsp;</a></span>Display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Display </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OLED output. </p>
<p>Show current state on OLED </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>uses SSD1306.c </dd></dl>

</div>
</div>
<a id="a0321334343b11ceb82d4c0b3928a3568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0321334343b11ceb82d4c0b3928a3568">&#9670;&nbsp;</a></span>ForwardUntilCrash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ForwardUntilCrash </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Go until bumper touched. </p>
<p>Go straight until bumper touched (crash) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>uses bump.c </dd></dl>

</div>
</div>
<a id="afc7799ed6f9df6cf864de783d8c20651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc7799ed6f9df6cf864de783d8c20651">&#9670;&nbsp;</a></span>ForwardUntilThStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ForwardUntilThStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check status of soft left until theta command </p>
<p>Odometry command to check status of soft left until theta command. Assumes SoftLeftUntilThStart has been issued </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if done or error, false if still running ok </dd></dl>

</div>
</div>
<a id="a229d2f3384b996c6934c7c8285487297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a229d2f3384b996c6934c7c8285487297">&#9670;&nbsp;</a></span>ForwardUntilX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ForwardUntilX </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>desiredX</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Forward Until X goal. </p>
<p>Odometry command to Go straight until X goal has been reached. This routine will run until goal is met. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">desiredX</td><td>desired X position in units of 0.0001cm </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, nonzero is failure (crash=bump sensor or 0xFF=going wrong way) </dd></dl>

</div>
</div>
<a id="a1cb6e48d29c4e844c7fe377dfb96ac01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cb6e48d29c4e844c7fe377dfb96ac01">&#9670;&nbsp;</a></span>ForwardUntilXStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ForwardUntilXStart </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>thedesiredX</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>start going Forward Until X </p>
<p>Odometry command to Go straight until X goal has been reached. This routine will start the command, but return immediately </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thedesiredX</td><td>desired X position in units of 0.0001cm </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ad1e3cf20ecb159bdbf93ba0f48d3d6d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1e3cf20ecb159bdbf93ba0f48d3d6d1">&#9670;&nbsp;</a></span>ForwardUntilXStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ForwardUntilXStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check status of Forward Until X command </p>
<p>Odometry command to check status of Go straight until X command. Assumes ForwardUntilXStart has been issued </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if done or error, false if still running ok </dd></dl>

</div>
</div>
<a id="a2b083e4a98e3da0f1e24567106672570"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b083e4a98e3da0f1e24567106672570">&#9670;&nbsp;</a></span>ForwardUntilY()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ForwardUntilY </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>desiredY</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Forward Until Y goal. </p>
<p>Odometry command to Go straight until Y goal has been reached. This routine will run until goal is met. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">desiredY</td><td>desired Y position in units of 0.0001cm </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, nonzero is failure (crash=bump sensor or 0xFF=going wrong way) </dd></dl>

</div>
</div>
<a id="a9a85769742970a3c73e420a95995b610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a85769742970a3c73e420a95995b610">&#9670;&nbsp;</a></span>ForwardUntilYStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ForwardUntilYStart </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>thedesiredY</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>start going Forward Until Y </p>
<p>Odometry command to Go straight until Y goal has been reached. This routine will start the command, but return immediately </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thedesiredY</td><td>desired Y position in units of 0.0001cm </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="a959131ec407a757e0b5d52a9025c4a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a959131ec407a757e0b5d52a9025c4a87">&#9670;&nbsp;</a></span>ForwardUntilYStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ForwardUntilYStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check status of Forward Until Y command </p>
<p>Odometry command to check status of Go straight until Y command. Assumes ForwardUntilYStart has been issued </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if done or error, false if still running ok </dd></dl>

</div>
</div>
<a id="a1ef75bf637013d317fd67af7d24d9487"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef75bf637013d317fd67af7d24d9487">&#9670;&nbsp;</a></span>Odometry_Get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Odometry_Get </td>
          <td>(</td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>theta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current robot position. </p>
<p>Get the current robot position. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>is pointer to store x position of the robot (units of 0.0001cm) </td></tr>
    <tr><td class="paramname">y</td><td>is pointer to store y position of the robot (units of 0.0001cm) </td></tr>
    <tr><td class="paramname">theta</td><td>is pointer to store angle (or direction) of the robot (units of 2*pi/16384 radians) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Assumes <a class="el" href="odometry_8h.html#a02038c8bfaf26fb3cf26f87c700ace21" title="Initialize odometry module. ">Odometry_Init()</a> has been called at least once<br />
 </dd>
<dd>
Typically <a class="el" href="odometry_8h.html#a57e039201476eac111718cd0389008e2" title="Compute new position/angle of the robot. ">Odometry_Update()</a> is being called periodically (so LCount and RCount are less than 30) </dd></dl>

</div>
</div>
<a id="a010212b0f335a235e37853f1566eb789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a010212b0f335a235e37853f1566eb789">&#9670;&nbsp;</a></span>Odometry_GetAngle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t Odometry_GetAngle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get theta angle. </p>
<p>Fetch value of the current theta angle of the robot </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>position units of 2*pi/16384 radians </dd></dl>

</div>
</div>
<a id="a445ed3ce2b8e40f5f1b289c5f2e10877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a445ed3ce2b8e40f5f1b289c5f2e10877">&#9670;&nbsp;</a></span>Odometry_GetX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t Odometry_GetX </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get X position. </p>
<p>Fetch value of the current X position of the robot </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>position in units of 0.0001cm </dd></dl>

</div>
</div>
<a id="ada122c001d23df57126239baedd3dd41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada122c001d23df57126239baedd3dd41">&#9670;&nbsp;</a></span>Odometry_GetY()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t Odometry_GetY </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get y position. </p>
<p>Fetch value of the current y position of the robot </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>position in units of 0.0001cm </dd></dl>

</div>
</div>
<a id="a02038c8bfaf26fb3cf26f87c700ace21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02038c8bfaf26fb3cf26f87c700ace21">&#9670;&nbsp;</a></span>Odometry_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Odometry_Init </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>initx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>inity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>initTheta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize odometry module. </p>
<p>Initialize odometry module by specifying the initial position/angle of the robot. Angles range from (-pi to +pi) signified by -8192 to +8191. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initx</td><td>initial x position of the robot (units of 0.0001cm) </td></tr>
    <tr><td class="paramname">inity</td><td>initial y position of the robot (units of 0.0001cm) </td></tr>
    <tr><td class="paramname">initTheta</td><td>initial angle of the robot (units of 2*pi/16384 radians) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="a65bc6118c80d609922568caef39d5534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65bc6118c80d609922568caef39d5534">&#9670;&nbsp;</a></span>Odometry_SetPower()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Odometry_SetPower </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>fast</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>slow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set power levels. </p>
<p>Specifies two power levels to use during odometry task, and PWM levels must be between 0 to 14,998. Obviously, the power level must be high enough to move robot </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fast</td><td>PWM level for moving forward </td></tr>
    <tr><td class="paramname">slow</td><td>PWM level for turning </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>&lt; PWM for fast motions, out of 15000 </p>

</div>
</div>
<a id="a57e039201476eac111718cd0389008e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57e039201476eac111718cd0389008e2">&#9670;&nbsp;</a></span>Odometry_Update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Odometry_Update </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>LCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>RCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute new position/angle of the robot. </p>
<p>Inputs are wheel tachometer counts (n counts/rotation), and outputs are private global variable of new position/angle </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LCount</td><td>number of left wheel tachometer counts from the last update </td></tr>
    <tr><td class="paramname">RCount</td><td>number of right wheel tachometer counts from the last update </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="a47488781167f4a2b93cd7fdc2f862c59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47488781167f4a2b93cd7fdc2f862c59">&#9670;&nbsp;</a></span>SoftLeftUntilTh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SoftLeftUntilTh </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>desiredTh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Soft Left Until Theta. </p>
<p>Odometry command to soft left until theta goal has been reached. This routine will run until goal is met. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">desiredTh</td><td>desired theta position in units of 2*pi/16384 radians </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, nonzero is failure (crash=bump sensor or 0xFF=going wrong way) </dd></dl>

</div>
</div>
<a id="a1c5406d6e8a5d440d0a293cc331abd09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c5406d6e8a5d440d0a293cc331abd09">&#9670;&nbsp;</a></span>SoftLeftUntilThStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SoftLeftUntilThStart </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>thedesiredTh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>start going Forward Until Y </p>
<p>Odometry command to soft left until theta goal has been reached. This routine will start the command, but return immediately </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thedesiredTh</td><td>desired theta position in units of 2*pi/16384 radians </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="a26dd48a17bfa7e00662f4243b373903c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26dd48a17bfa7e00662f4243b373903c">&#9670;&nbsp;</a></span>StopUntilBumperTouched()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StopUntilBumperTouched </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop and wait until bumper touched. </p>
<p>Stop and wait until bumper touched </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>uses bump.c </dd></dl>

</div>
</div>
<a id="aca159286d03bad83e4e2fc74a6e3700a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca159286d03bad83e4e2fc74a6e3700a">&#9670;&nbsp;</a></span>UpdatePosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpdatePosition </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update position </p>
<p>Take wheel counts and update position </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Must be called periodically so wheel counts are 5 to 20. If both wheel counts are routinely below 5, update less frequently. If either wheel count is routinely above 20, update more frequently. </dd></dl>

</div>
</div>
<a id="a6ad9dab3cc94b0686b23feab2651be89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ad9dab3cc94b0686b23feab2651be89">&#9670;&nbsp;</a></span>WaitUntilBumperTouched()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WaitUntilBumperTouched </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until bumper touched. </p>
<p>Wait until bumper touched </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>uses bump.c </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f9c6eee85e3098046e0339033388ea2a.html">RSLK_1_1</a></li><li class="navelem"><a class="el" href="dir_be9fcf35bc3d48e685f35d6352e90eef.html">inc</a></li><li class="navelem"><a class="el" href="odometry_8h.html">odometry.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
